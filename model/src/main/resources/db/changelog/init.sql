SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS SA SALT '220a6e8fa0be298d' HASH '5e382b65d466965dca932dd7e3dc250e1f100053f1203e4fe23d884563058695' ADMIN;           
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_A42F9CB7_1234_4801_A8E6_0FD9E92A5E74 START WITH 4 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_08D8AE4E_8FF8_4A62_AF11_61DFB2F19C3D START WITH 3 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_31AD8486_375A_44AB_AF1D_6A04B5446BB5 START WITH 4 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_5BB9AF77_7DAD_4AD1_88DF_4A5000AFE0FF START WITH 3 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_FB112387_DB94_41B3_BF7E_91523447A85A START WITH 4 BELONGS_TO_TABLE;    
CREATE MEMORY TABLE PUBLIC.CLIENT(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_31AD8486_375A_44AB_AF1D_6A04B5446BB5) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_31AD8486_375A_44AB_AF1D_6A04B5446BB5,
    NAME VARCHAR(255),
    TYPE VARCHAR(255)
);      
ALTER TABLE PUBLIC.CLIENT ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID); 
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.CLIENT;  
INSERT INTO PUBLIC.CLIENT(ID, NAME, TYPE) VALUES
(1, 'Big company', 'LEGAL_PERSON'),
(2, 'Small company', 'LEGAL_PERSON'),
(3, 'Individual entrepreneur', 'NATURAL_PERSON');               
CREATE MEMORY TABLE PUBLIC.CLIENT_CONTRACT(
    CLIENT_ID BIGINT NOT NULL,
    CONTRACT_ID BIGINT NOT NULL
);              
ALTER TABLE PUBLIC.CLIENT_CONTRACT ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(CLIENT_ID, CONTRACT_ID);    
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.CLIENT_CONTRACT;         
INSERT INTO PUBLIC.CLIENT_CONTRACT(CLIENT_ID, CONTRACT_ID) VALUES
(1, 1),
(1, 2),
(2, 3),
(3, 3);         
CREATE MEMORY TABLE PUBLIC.CONTRACT(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_FB112387_DB94_41B3_BF7E_91523447A85A) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_FB112387_DB94_41B3_BF7E_91523447A85A,
    BUDGET DECIMAL(19, 2),
    DESCRIPTION VARCHAR(255),
    PROJECT_ID BIGINT
); 
ALTER TABLE PUBLIC.CONTRACT ADD CONSTRAINT PUBLIC.CONSTRAINT_C PRIMARY KEY(ID);               
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.CONTRACT;
INSERT INTO PUBLIC.CONTRACT(ID, BUDGET, DESCRIPTION, PROJECT_ID) VALUES
(1, 1000000.00, 'Do all good.', 1),
(2, 1010000.00, 'Do all good and something else.', NULL),
(3, 10000.00, 'Do something.', 2);   
CREATE MEMORY TABLE PUBLIC.DEVELOPER(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_5BB9AF77_7DAD_4AD1_88DF_4A5000AFE0FF) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_5BB9AF77_7DAD_4AD1_88DF_4A5000AFE0FF,
    NAME VARCHAR(255),
    POSITION VARCHAR(255)
);               
ALTER TABLE PUBLIC.DEVELOPER ADD CONSTRAINT PUBLIC.CONSTRAINT_A PRIMARY KEY(ID);              
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.DEVELOPER;               
INSERT INTO PUBLIC.DEVELOPER(ID, NAME, POSITION) VALUES
(1, 'John Doe', 'JUNIOR'),
(2, 'Will Smith', 'SENIOR');             
CREATE MEMORY TABLE PUBLIC.ISSUE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_A42F9CB7_1234_4801_A8E6_0FD9E92A5E74) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_A42F9CB7_1234_4801_A8E6_0FD9E92A5E74,
    DESCRIPTION VARCHAR(255),
    ESTIMATE INTEGER,
    NAME VARCHAR(255),
    DEVELOPER_ID BIGINT,
    PROJECT_ID BIGINT
);       
ALTER TABLE PUBLIC.ISSUE ADD CONSTRAINT PUBLIC.CONSTRAINT_42 PRIMARY KEY(ID); 
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ISSUE;   
INSERT INTO PUBLIC.ISSUE(ID, DESCRIPTION, ESTIMATE, NAME, DEVELOPER_ID, PROJECT_ID) VALUES
(1, 'Perform analysis.', 5, 'Analysis', NULL, NULL),
(2, 'Perform analysis.', 8, 'Analysis', NULL, NULL),
(3, 'Create a prototype.', 5, 'Prototype', NULL, NULL);               
CREATE MEMORY TABLE PUBLIC.PROJECT(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_08D8AE4E_8FF8_4A62_AF11_61DFB2F19C3D) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_08D8AE4E_8FF8_4A62_AF11_61DFB2F19C3D,
    DEADLINE DATE,
    NAME VARCHAR(255)
);         
ALTER TABLE PUBLIC.PROJECT ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PROJECT; 
INSERT INTO PUBLIC.PROJECT(ID, DEADLINE, NAME) VALUES
(1, DATE '2015-12-31', 'Project for good contract'),
(2, DATE '2015-11-30', 'Project for normal contract');           
ALTER TABLE PUBLIC.CLIENT_CONTRACT ADD CONSTRAINT PUBLIC.FKTG661S2PTLC2YR3GM3GLBYA06 FOREIGN KEY(CONTRACT_ID) REFERENCES PUBLIC.CONTRACT(ID) NOCHECK;         
ALTER TABLE PUBLIC.CLIENT_CONTRACT ADD CONSTRAINT PUBLIC.FKNGSGD8KQW3BB1AHYQWKDI0MCR FOREIGN KEY(CLIENT_ID) REFERENCES PUBLIC.CLIENT(ID) NOCHECK;             
ALTER TABLE PUBLIC.ISSUE ADD CONSTRAINT PUBLIC.FK8IRW3CJHOQSYJBRJ0GXNNM095 FOREIGN KEY(DEVELOPER_ID) REFERENCES PUBLIC.DEVELOPER(ID) NOCHECK; 
ALTER TABLE PUBLIC.ISSUE ADD CONSTRAINT PUBLIC.FKCOMBYTCPEOGAQI2012PHVVVHY FOREIGN KEY(PROJECT_ID) REFERENCES PUBLIC.PROJECT(ID) NOCHECK;     
ALTER TABLE PUBLIC.CONTRACT ADD CONSTRAINT PUBLIC.FKIUHNXIUG4XIXTCQ9H6GTYCXXH FOREIGN KEY(PROJECT_ID) REFERENCES PUBLIC.PROJECT(ID) NOCHECK;  
